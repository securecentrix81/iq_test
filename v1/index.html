<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Centrix81 IQ Test</title>
    <style>
      body { font-family: sans-serif; background: #f4f4f9; display: flex; justify-content: center; padding: 20px; }
      #quiz-container { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 600px; width: 100%; text-align: center; }
      .image-wrapper img { max-width: 100%; height: auto; border: 1px solid #ddd; margin-bottom: 1rem; }
      #answer-list { list-style: none; padding: 0; margin: 20px 0; }
      .answer-item { 
        background: #e7e7ff; padding: 12px; margin-bottom: 8px; border-radius: 4px; 
        cursor: pointer; transition: 0.2s; border: 2px solid transparent;
      }
      .answer-item:hover { background: #d0d0ff; }
      .correct { border-color: #2ecc71; background: #d4efdf !important; }
      .incorrect { border-color: #e74c3c; background: #f2d7d5 !important; }
      .hidden { display: none; }
      #feedback-container { margin-top: 20px; padding: 15px; border-top: 1px solid #eee; }
      #next-btn { background: #3498db; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; }

      .matrix {
        margin: 15px 0;
        border-collapse: collapse;
      }
      
      .matrix td {
        padding: 5px;
        text-align: center;
        vertical-align: middle;
        border: 1px solid black;
      }
    </style>
  </head>
  <body>

    <div id="quiz-container">
      <h1 id="quiz-title">IQ Assessment</h1>

      <!-- Main Image Container -->
      <div class="image-wrapper">
        <img id="test-image" src="" alt="IQ Test Pattern">
      </div>

      <div id="question-text">Select the correct answer:</div>

      <!-- Answer List -->
      <ul id="answer-list"></ul>

      <!-- Feedback Area -->
      <div id="feedback-container" class="hidden">
        <p id="feedback-text"></p>
        <button id="next-btn" onclick="nextQuestion()">Next Question</button>
      </div>

      <div id="score-container" class="hidden">
        <h2>Test Complete!</h2>
        <p id="final-score"></p>
        <button onclick="location.reload()">Restart</button>
      </div>
    </div>

    <script>
      // --- DEVELOPER CONFIGURATION AREA ---
      const quizConfig = {
        title: "Secure Centrix81 IQ Test",
        questions: [
          {
            image: "assets/test_1.svg",
            answers: [
              { text: "Option 1", isCorrect: false, feedback: `Your answer is incorrect. Let's count the number of sides in each cell:
<table class="matrix">
  <tr>
    <td>3</td>
    <td>4</td>
    <td>5</td>
  </tr>
  <tr>
    <td>4+3=<br>7</td>
    <td>4+4=<br>8</td>
    <td>4+5=<br>9</td>
  </tr>
  <tr>
    <td>3+3+4=<br>10</td>
    <td>4+4+3=<br>11</td>
    <td>?</td>
  </tr>
</table>
Looking at this table, we can see that the total number of sides increases as you move right. Looking at the bottom row, we can see that the number on the question mark should be 12. This means we need to find shapes whose sides sum to 12. Let's list out the total number of sides for each option:
<ol>
<li>13 total sides</li>
<li>12 total sides</li>
<li>13 total sides</li>
<li>0 total sides</li>
</ol>
The only pattern that has 12 total sides is <b>Option #2</b>` },
              { text: "Option 2", isCorrect: false, feedback: `Your answer is incorrect. Let's count the number of sides for every shape in each row, underlining any new shapes that appear relative to the cell above it.
<table class="matrix">
  <tr>
    <td><u>3</u></td>
    <td><u>4</u></td>
    <td><u>5</u></td>
  </tr>
  <tr>
    <td><u>4</u> + 3</td>
    <td>4 + <u>4</u></td>
    <td><u>4</u> + 5</td>
  </tr>
  <tr>
    <td><u>3</u> + 3 + 4</td>
    <td>4 + 4 + <u>3</u></td>
    <td>?</td>
  </tr>
</table>
As you can see, every cell contains all the shapes above it. In order for the question mark to match this pattern, it must contain at least a 4 sided shape and a 5 sided shape.
<ol>
<li>#1 contains a 3, 4, and 6 sided shape. It does not meet the criteria</li>
<li>#2 contains two 6 sided shapes. It does not meet the criteria</li>
<li>#3 contains a 5 sided shape and two 4 sided shapes. It <u>does</u> meet the criteria</li>
<li>#4 contains three 0 sided shapes. It does not meet the criteria</li>
</ol>
<b>#3 is the correct answer</b>` },
              { text: "Option 3", isCorrect: false, feedback: `Your answer is incorrect. Let's count the number of sides in each cell:
<table class="matrix">
  <tr>
    <td>3</td>
    <td>4</td>
    <td>5</td>
  </tr>
  <tr>
    <td>4+3=<br>7</td>
    <td>4+4=<br>8</td>
    <td>4+5=<br>9</td>
  </tr>
  <tr>
    <td>3+3+4=<br>10</td>
    <td>4+4+3=<br>11</td>
    <td>?</td>
  </tr>
</table>
Looking at this table, we can see that the total number of sides increases as you move right. Looking at the bottom row, we can see that the number on the question mark should be 12. This means we need to find shapes whose sides sum to 12. Let's list out the total number of sides for each option:
<ol>
<li>13 total sides</li>
<li>12 total sides</li>
<li>13 total sides</li>
<li>0 total sides</li>
</ol>
The only pattern that has 12 total sides is <b>Option #2</b>` },
              { text: "Option 4", isCorrect: false, feedback: `Your answer is incorrect. Let's count the number of sides for every shape in each row, underlining any new shapes that appear relative to the cell above it.
<table class="matrix">
  <tr>
    <td><u>3</u></td>
    <td><u>4</u></td>
    <td><u>5</u></td>
  </tr>
  <tr>
    <td><u>4</u> + 3</td>
    <td>4 + <u>4</u></td>
    <td><u>4</u> + 5</td>
  </tr>
  <tr>
    <td><u>3</u> + 3 + 4</td>
    <td>4 + 4 + <u>3</u></td>
    <td>?</td>
  </tr>
</table>
As you can see, every cell contains all the shapes above it. In order for the question mark to match this pattern, it must contain at least a 4 sided shape and a 5 sided shape.
<ol>
<li>#1 contains a 3, 4, and 6 sided shape. It does not meet the criteria</li>
<li>#2 contains two 6 sided shapes. It does not meet the criteria</li>
<li>#3 contains a 5 sided shape and two 4 sided shapes. It <u>does</u> meet the criteria</li>
<li>#4 contains three 0 sided shapes. It does not meet the criteria</li>
</ol>
<b>#3 is the correct answer</b>` }
            ]
          },
          {
            image: "assets/test_2.svg",
            answers: [
              { text: "Option 1", isCorrect: false, feedback: `<style>
  .matrix {
    margin: 15px 0;
    border-collapse: collapse;
  }
  
  .matrix td {
    padding: 5px;
    text-align: center;
    vertical-align: middle;
    border: 1px solid black;
  }
</style>

Your answer is incorrect. Let's focus on the position of the square:
<table class="matrix">
  <tr>
    <td>Right</td>
    <td>Left</td>
    <td>Center</td>
    <td>Right</td>
    <td>Left</td>
    <td>?????</td>
  </tr>
</table>
Now let's focus on the position of the circle:
<table class="matrix">
  <tr>
    <td>Center</td>
    <td>Center</td>
    <td>Right</td>
    <td>Center</td>
    <td>Center</td>
    <td>?????</td>
  </tr>
</table>
As you can see, the square follows a repeating right-left-center pattern while the circle follows a center-center-right pattern. This means that the square will be in the center and the circle will be on the right for the ending pattern.<br>
Now let's count the number of stars in each cell:
<table class="matrix">
  <tr>
    <td>1 star</td>
    <td>1 star</td>
    <td>2 stars</td>
    <td>3 stars</td>
    <td>5 stars</td>
    <td>? stars</td>
  </tr>
</table>
The number of stars in each cell is equal to the sum of the previous two cells. This means that the final cell should have 8 stars.<br>
Let's look at each answer choice:
<ol>
<li>The square and circle don't seem to be positioned anywhere. This is incorrect</li>
<li>The square is in the center, and the circle is on the right. This is correct. However, this does not have 8 stars, making it incorrect.</li>
<li>The square is in the center, and the circle is on the right. This is correct. It also has 8 stars, making it the correct answer.</li>
<li>The square is in the center, and the circle is on the right. This is correct. However, this does not have 8 stars, making it incorrect.</li>
</ol>
<b>#3 is the correct answer</b>` },
              { text: "Option 2", isCorrect: false, feedback: `Your answer is incorrect. Let's focus on the position of the square:
<table class="matrix">
  <tr>
    <td>Right</td>
    <td>Left</td>
    <td>Center</td>
    <td>Right</td>
    <td>Left</td>
    <td>?????</td>
  </tr>
</table>
Now let's focus on the position of the circle:
<table class="matrix">
  <tr>
    <td>Center</td>
    <td>Center</td>
    <td>Right</td>
    <td>Center</td>
    <td>Center</td>
    <td>?????</td>
  </tr>
</table>
Now let's count the number of stars in each cell:
<table class="matrix">
  <tr>
    <td>1 star</td>
    <td>1 star</td>
    <td>2 stars</td>
    <td>3 stars</td>
    <td>5 stars</td>
    <td>? stars</td>
  </tr>
</table>
As you can see, the square follows a repeating right-left-center pattern while the circle follows a center-center-right pattern. This means that the square will be in the center and the circle will be on the right for the ending pattern.<br>
The number of stars in each cell is equal to the sum of the previous two cells. This means that the final cell should have 8 stars.<br>
Let's analyze the number of stars in each answer choice
<ol>
  <li>8 stars. Correct. However, the square is not in the center and the circle is not on the right, making this incorrect.</li>
  <li>7 stars. Incorrect.</li>
  <li>8 stars. Correct.</li>
  <li>4 stars. Incorrect.</li>
</ol>
<b>The correct answer is #3</b>` },
              { text: "Option 3", isCorrect: false, feedback: `Your answer is incorrect. In all given cells, the circle and square are always touching (diagonals included.) This eliminates answer choice #3. Let's count the number of stars in each cell:
<table class="matrix">
  <tr>
    <td>1 star</td>
    <td>1 star</td>
    <td>2 stars</td>
    <td>3 stars</td>
    <td>5 stars</td>
    <td>? stars</td>
  </tr>
</table>
As you can see, the number of stars in each cell is equal to the sum of the previous two cells. This means that the final cell should have 8 stars.
<ol>
  <li>8 stars. Correct.</li>
  <li>7 stars. Incorrect.</li>
  <li>Eliminated (circle and square are not touching)</li>
  <li>4 stars. Incorrect.</li>
</ol>
<b>#1 is the correct answer</b>` },
              { text: "Option 4", isCorrect: false, feedback: `<style>
  .matrix {
    margin: 15px 0;
    border-collapse: collapse;
  }
  
  .matrix td {
    padding: 5px;
    text-align: center;
    vertical-align: middle;
    border: 1px solid black;
  }
</style>

Your answer is incorrect. Let's focus on the position of the square:
<table class="matrix">
  <tr>
    <td>Right</td>
    <td>Left</td>
    <td>Center</td>
    <td>Right</td>
    <td>Left</td>
    <td>?????</td>
  </tr>
</table>
Now let's focus on the position of the circle:
<table class="matrix">
  <tr>
    <td>Center</td>
    <td>Center</td>
    <td>Right</td>
    <td>Center</td>
    <td>Center</td>
    <td>?????</td>
  </tr>
</table>
As you can see, the square follows a repeating right-left-center pattern while the circle follows a center-center-right pattern. This means that the square will be in the center and the circle will be on the right for the ending pattern.<br>
Now let's count the number of stars in each cell:
<table class="matrix">
  <tr>
    <td>1 star</td>
    <td>1 star</td>
    <td>2 stars</td>
    <td>3 stars</td>
    <td>5 stars</td>
    <td>? stars</td>
  </tr>
</table>
The number of stars in each cell is equal to the sum of the previous two cells. This means that the final cell should have 8 stars.<br>
Let's look at each answer choice:
<ol>
<li>The square and circle don't seem to be positioned anywhere. This is incorrect</li>
<li>The square is in the center, and the circle is on the right. This is correct. However, this does not have 8 stars, making it incorrect.</li>
<li>The square is in the center, and the circle is on the right. This is correct. It also has 8 stars, making it the correct answer.</li>
<li>The square is in the center, and the circle is on the right. This is correct. However, this does not have 8 stars, making it incorrect.</li>
</ol>
<b>#3 is the correct answer</b>` }
            ]
          },
          {
            image: "assets/test_3.svg",
            answers: [
              { text: "Option 1", isCorrect: false, feedback: "You correctly identified conway's game of life, but there is actually another rule. In the top left cell, we can see that the entire 1st column is filled (diamond, square, circle, square). The middle left cell has its 3rd column filled (square, circle, triangle, diamond). The bottom left cell has the 2nd column filled, which is in between the 1st and 3rd column. In the top center cell, we can see that the entire 4th column is filled, and the center cell has its entire 2nd column filled. The bottom center cell has its 3rd column filled, which is in between the 2nd and 4th column. The only number that accounts for both conway's game of life and the column rule is <b>#4</b>" },
              { text: "Option 2", isCorrect: false, feedback: "You correctly identified that the column to be filled should be the 2nd one, but there is actually another important rule that you missed. This matrix traces the steps of conway's game of life, where a diamond, triangle, or circle represents a live cell, and a empty, square, or start represents a dead cell. A live cell with less than 2 neighbors or more than 3 neighbors dies and survives if there are 2 or 3 neighbors. A dead cell becomes alive if it has exactly 3 neighbors. Using this rule, we can see that the only number that accounts for both conway's game of life and the column rule is <b>#4</b>" },
              { text: "Option 3", isCorrect: false, feedback: "In the top left cell, we can see that the entire 1st column is filled (diamond, square, circle, square). The middle left cell has its 3rd column filled (square, circle, triangle, diamond). The bottom left cell has the 2nd column filled, which is in between the 1st and 3rd column. In the top center cell, we can see that the entire 4th column is filled, and the center cell has its entire 2nd column filled. The bottom center cell has its 3rd column filled, which is in between the 2nd and 4th column. This matrix also traces the steps of conway's game of life, where a diamond, triangle, or circle represents a live cell, and a empty, square, or start represents a dead cell. A live cell with less than 2 neighbors or more than 3 neighbors dies and survives if there are 2 or 3 neighbors. A dead cell becomes alive if it has exactly 3 neighbors. Using this rule, we can see that the only number that accounts for both conway's game of life and the column rule is <b>#4</b>" },
              { text: "Option 4", isCorrect: false, feedback: "You correctly identified the patterns in conway's game of life. However, there is another rule you forgot to account for. In every cell, there is always at least one square, star, diamond, triangle, and circle. In this cell, there are no squares, triangles, or circles. The only other rule correctly identifies conway's game of life is <b>#1</b>" }
            ]
          }
        ]
      };

      // --- CORE ENGINE ---
      let currentQuestionIndex = 0;
      let score = 0;

      const testImage = document.getElementById('test-image');
      const answerList = document.getElementById('answer-list');
      const feedbackContainer = document.getElementById('feedback-container');
      const feedbackText = document.getElementById('feedback-text');

      function loadQuestion() {
        const q = quizConfig.questions[currentQuestionIndex];
        testImage.src = q.image;
        answerList.innerHTML = "";
        feedbackContainer.classList.add('hidden');

        q.answers.forEach((ans, index) => {
          const li = document.createElement('li');
          li.classList.add('answer-item');
          li.innerText = ans.text;
          li.onclick = () => handleAnswer(ans, li);
          answerList.appendChild(li);
        });
      }

      function handleAnswer(answer, element) {
        // Prevent multiple clicks
        const items = document.querySelectorAll('.answer-item');
        items.forEach(item => item.style.pointerEvents = 'none');

        if (answer.isCorrect) {
          element.classList.add('correct');
          score++;
        } else {
          element.classList.add('incorrect');
        }

        feedbackText.innerHTML = answer.feedback;
        feedbackContainer.classList.remove('hidden');
      }

      function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizConfig.questions.length) {
          loadQuestion();
        } else {
          showResults();
        }
      }

      function showResults() {
        document.getElementById('answer-list').classList.add('hidden');
        document.querySelector('.image-wrapper').classList.add('hidden');
        document.getElementById('feedback-container').classList.add('hidden');
        document.getElementById('question-text').classList.add('hidden');

        const scoreBox = document.getElementById('score-container');
        scoreBox.classList.remove('hidden');
        document.getElementById('final-score').innerText = `You got ${score} out of ${quizConfig.questions.length} correct.`;
      }

      // Initialize
      document.getElementById('quiz-title').innerText = quizConfig.title;
      loadQuestion();
    </script>
  </body>
</html>
