<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customizable IQ Test</title>
    <style>
      body { font-family: sans-serif; background: #f4f4f9; display: flex; justify-content: center; padding: 20px; }
      #quiz-container { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 600px; width: 100%; text-align: center; }
      .image-wrapper img { max-width: 100%; height: auto; border: 1px solid #ddd; margin-bottom: 1rem; }
      #answer-list { list-style: none; padding: 0; margin: 20px 0; }
      .answer-item { 
        background: #e7e7ff; padding: 12px; margin-bottom: 8px; border-radius: 4px; 
        cursor: pointer; transition: 0.2s; border: 2px solid transparent;
      }
      .answer-item:hover { background: #d0d0ff; }
      .correct { border-color: #2ecc71; background: #d4efdf !important; }
      .incorrect { border-color: #e74c3c; background: #f2d7d5 !important; }
      .hidden { display: none; }
      #feedback-container { margin-top: 20px; padding: 15px; border-top: 1px solid #eee; }
      #next-btn { background: #3498db; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; }
    </style>
  </head>
  <body>

    <div id="quiz-container">
      <h1 id="quiz-title">IQ Assessment</h1>

      <!-- Main Image Container -->
      <div class="image-wrapper">
        <img id="test-image" src="" alt="IQ Test Pattern">
      </div>

      <div id="question-text">Select the correct logic:</div>

      <!-- Answer List -->
      <ul id="answer-list"></ul>

      <!-- Feedback Area -->
      <div id="feedback-container" class="hidden">
        <p id="feedback-text"></p>
        <button id="next-btn" onclick="nextQuestion()">Next Question</button>
      </div>

      <div id="score-container" class="hidden">
        <h2>Test Complete!</h2>
        <p id="final-score"></p>
        <button onclick="location.reload()">Restart</button>
      </div>
    </div>

    <script>
      // --- DEVELOPER CONFIGURATION AREA ---
      const quizConfig = {
        title: "Abstract Reasoning Test",
        questions: [
          {
            image: "",
            answers: [
              { text: "", isCorrect:  true, feedback: "" },
              { text: "", isCorrect: false, feedback: "" },
              { text: "", isCorrect: false, feedback: "" },
              { text: "", isCorrect: false, feedback: "" }
            ]
          }
        ]
      };

      // --- CORE ENGINE ---
      let currentQuestionIndex = 0;
      let score = 0;

      const testImage = document.getElementById('test-image');
      const answerList = document.getElementById('answer-list');
      const feedbackContainer = document.getElementById('feedback-container');
      const feedbackText = document.getElementById('feedback-text');

      function loadQuestion() {
        const q = quizConfig.questions[currentQuestionIndex];
        testImage.src = q.image;
        answerList.innerHTML = "";
        feedbackContainer.classList.add('hidden');

        q.answers.forEach((ans, index) => {
          const li = document.createElement('li');
          li.classList.add('answer-item');
          li.innerText = ans.text;
          li.onclick = () => handleAnswer(ans, li);
          answerList.appendChild(li);
        });
      }

      function handleAnswer(answer, element) {
        // Prevent multiple clicks
        const items = document.querySelectorAll('.answer-item');
        items.forEach(item => item.style.pointerEvents = 'none');

        if (answer.isCorrect) {
          element.classList.add('correct');
          score++;
        } else {
          element.classList.add('incorrect');
        }

        feedbackText.innerText = answer.feedback;
        feedbackContainer.classList.remove('hidden');
      }

      function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizConfig.questions.length) {
          loadQuestion();
        } else {
          showResults();
        }
      }

      function showResults() {
        document.getElementById('answer-list').classList.add('hidden');
        document.querySelector('.image-wrapper').classList.add('hidden');
        document.getElementById('feedback-container').classList.add('hidden');
        document.getElementById('question-text').classList.add('hidden');

        const scoreBox = document.getElementById('score-container');
        scoreBox.classList.remove('hidden');
        document.getElementById('final-score').innerText = `You got ${score} out of ${quizConfig.questions.length} correct.`;
      }

      // Initialize
      document.getElementById('quiz-title').innerText = quizConfig.title;
      loadQuestion();
    </script>
  </body>
</html>
